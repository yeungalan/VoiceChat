<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>rcv</title>
</head>
<body>
    <audio id="audio-player"></audio>
    <script>
        var socket = new WebSocket('ws://172.28.1.142:8000/ws/channel-1');



        socket.addEventListener('message', function(event) {
			const base64Data = event.data;
			const binaryData = atob(base64Data);
			const audioData = new Uint8Array(binaryData.length);
			for (let i = 0; i < binaryData.length; i++) {
				audioData[i] = binaryData.charCodeAt(i);
			}
			const audioBlob = new Blob([audioData.buffer], { type: 'audio/webm' });
			const audioUrl = URL.createObjectURL(audioBlob);
			const audioElement = new Audio(audioUrl);
			audioElement.play();
        });
    </script>
</body>
</html>
